<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html">



<dom-module id="event-one">
  <template>
    <template is="dom-repeat" items="[[events]]" as="event"> <!--this line calls the array named events-->
      <div class="w3-card-4 col-lg-8 col-lg-offset-2" style="width:95%;">
        <div class="w3-container">
          <p class="text-wrap"><img src="[[event.imgUrl]]" width= 15% align="left" alt="carnival"
            style="padding: 5px;"><b>[[event.name]]</b><br>Date: [[event.startDate]] to [[event.endDate]]<br>Price: [[event.price]] <br>City:  [[event.location]] <br>
            <button class="btn btn--primary modal-trigger" style="background-color: lightgray;" on-click="openModal" data-set$="[[event]]">More Info</button>
            <!-- <button type="button" class="btn btn-info btn-lg", onclick="window.open('http://www.riverdays.com/', '_blank');">More Info</button> -->
          </p>
          <br>
        </div>
      </div>
    </template>


  <paper-dialog id="EventModal" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
    <img src="img/riverdays.jpg" width="50%" alt="river days">
    <h2>Dialog Title</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
      irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum....<a href="https://http://www.riverdays.com/"></a></p>
      <paper-button dialog-dismiss style="background-color: lightgray; border-radius: 12px; ">Cancel</paper-button>

  </paper-dialog>

  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    class EventOne extends Polymer.GestureEventListeners(Polymer.Element) {
      static get is() { return 'event-one'; }
      static get properties() {
        return {
          selectedEvent: {
            type: Object,
            value: {}
          },
          events:{
            type: Array,
            value: [
              {
                id: 'null',
                name: 'GM River Days',
                imgUrl: 'img/riverdays.jpg',
                location: 'Detroit, MI',
                startDate: 'June 23, 2017',
                endDate: 'June 25, 2017',
                price :'$3 before 3pm and $5 after 3pm',
                category: 'carnival'

              },{
                name: 'GM River Days',
                imgUrl: 'img/riverdays.jpg',
                location: 'Detroit, MI',
                date: 'June 23 - 25, 2017',
                price :'$3 before 3pm and $5 after 3pm',
                category: 'carnival'

              },{
                name: 'GM River Days',
                imgUrl: 'img/riverdays.jpg',
                location: 'Detroit, MI',
                date: 'June 23 - 25, 2017',
                price :'$3 before 3pm and $5 after 3pm',
                category: 'carnival'

              },{
                name: 'GM River Days',
                imgUrl: 'img/riverdays.jpg',
                location: 'Detroit, MI',
                date: 'June 23 - 25, 2017',
                price :'$3 before 3pm and $5 after 3pm',
                category: 'carnival'

              },{
                name: 'GM River Days',
                imgUrl: 'img/riverdays.jpg',
                location: 'Detroit, MI',
                date: 'June 23 - 25, 2017',
                price :'$3 before 3pm and $5 after 3pm',
                category: 'carnival'

              }
            ]
          }
        };
      }


              openModal(e){
                console.log(JSON.parse(e.target.dataset.set));
                this.set('selectedEvent', JSON.parse(e.target.dataset.set))
                this.$.EventModal.open();
              };
    }
    window.customElements.define(EventOne.is, EventOne);
  </script>

</dom-module>
